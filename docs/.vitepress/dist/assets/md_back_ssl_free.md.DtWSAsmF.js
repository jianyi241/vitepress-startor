import{_ as a,c as i,o as t,ae as e}from"./chunks/framework.Cd-3tpCq.js";const c=JSON.parse(`{"title":"使用 Let's Encrypt 和 Certbot 获取 SSL 证书的完整流程如下：","description":"","frontmatter":{},"headers":[],"relativePath":"md/back/ssl_free.md","filePath":"md/back/ssl_free.md"}`),h={name:"md/back/ssl_free.md"};function n(p,s,l,r,d,k){return t(),i("div",null,s[0]||(s[0]=[e(`<h1 id="使用-let-s-encrypt-和-certbot-获取-ssl-证书的完整流程如下" tabindex="-1">使用 Let&#39;s Encrypt 和 Certbot 获取 SSL 证书的完整流程如下： <a class="header-anchor" href="#使用-let-s-encrypt-和-certbot-获取-ssl-证书的完整流程如下" aria-label="Permalink to &quot;使用 Let&#39;s Encrypt 和 Certbot 获取 SSL 证书的完整流程如下：&quot;">​</a></h1><h3 id="_1-安装-certbot" tabindex="-1">1. 安装 Certbot <a class="header-anchor" href="#_1-安装-certbot" aria-label="Permalink to &quot;1. 安装 Certbot&quot;">​</a></h3><p>首先，您需要在服务器上安装 Certbot。具体步骤可能因操作系统而异。以下是一些常见的操作系统的安装说明：</p><p>对于 Ubuntu/Debian</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> certbot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python3-certbot-nginx</span></span></code></pre></div><p>对于 CentOS/RHEL</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> epel-release</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> certbot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python2-certbot-nginx</span></span></code></pre></div><h3 id="_2-确认-nginx-apache-配置" tabindex="-1">2. 确认 Nginx/Apache 配置 <a class="header-anchor" href="#_2-确认-nginx-apache-配置" aria-label="Permalink to &quot;2. 确认 Nginx/Apache 配置&quot;">​</a></h3><p>确保您的 Nginx 或 Apache 服务器已正确配置并正在运行。确保您的域名正确指向服务器的 IP 地址。</p><h3 id="_3-获取证书" tabindex="-1">3. 获取证书 <a class="header-anchor" href="#_3-获取证书" aria-label="Permalink to &quot;3. 获取证书&quot;">​</a></h3><p>使用 Certbot 获取 SSL 证书。根据您的 Web 服务器类型，使用以下命令：</p><p>对于 Nginx</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> certbot</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --nginx</span></span></code></pre></div><p>对于 Apache</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> certbot</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --apache</span></span></code></pre></div><h3 id="_4-按照提示操作" tabindex="-1">4. 按照提示操作 <a class="header-anchor" href="#_4-按照提示操作" aria-label="Permalink to &quot;4. 按照提示操作&quot;">​</a></h3><p>Certbot 将提示您输入以下信息：</p><p>电子邮件地址：用于接收证书更新和安全通知。<br> 同意服务条款：您需要同意 Let&#39;s Encrypt 的服务条款。<br> 选择域名：选择您希望为其生成证书的域名。<br></p><h3 id="_5-自动配置-ssl" tabindex="-1">5. 自动配置 SSL <a class="header-anchor" href="#_5-自动配置-ssl" aria-label="Permalink to &quot;5. 自动配置 SSL&quot;">​</a></h3><p>Certbot 会自动更新您的 Nginx 或 Apache 配置，以使用新生成的 SSL 证书。</p><h3 id="_6-验证证书" tabindex="-1">6. 验证证书 <a class="header-anchor" href="#_6-验证证书" aria-label="Permalink to &quot;6. 验证证书&quot;">​</a></h3><p>获取证书后，您可以使用以下命令验证证书的安装：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> certbot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> certificates</span></span></code></pre></div><h3 id="_7-设置自动续期" tabindex="-1">7. 设置自动续期 <a class="header-anchor" href="#_7-设置自动续期" aria-label="Permalink to &quot;7. 设置自动续期&quot;">​</a></h3><p>Let&#39;s Encrypt 的证书有效期为 90 天。您可以使用 Cron 任务或 systemd 定时任务来自动续期证书。Certbot 提供了一个自动续期命令：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> certbot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> renew</span></span></code></pre></div><p>可以通过以下命令测试自动续期是否正常工作：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> certbot</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> renew</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dry-run</span></span></code></pre></div><h3 id="_8-重启-nginx-apache" tabindex="-1">8. 重启 Nginx/Apache <a class="header-anchor" href="#_8-重启-nginx-apache" aria-label="Permalink to &quot;8. 重启 Nginx/Apache&quot;">​</a></h3><p>在获取证书后，重启 Web 服务器以确保配置生效：</p><p>对于 Nginx</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span></code></pre></div><p>对于 Apache</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache2</span></span></code></pre></div><p>总结 通过上述步骤，您可以使用 Let&#39;s Encrypt 和 Certbot 免费获取和安装 SSL 证书，并设置自动续期。确保定期检查证书的有效性及续期设置，以保持网站的安全性。</p>`,35)]))}const b=a(h,[["render",n]]);export{c as __pageData,b as default};
